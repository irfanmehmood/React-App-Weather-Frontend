(window.webpackJsonpweather=window.webpackJsonpweather||[]).push([[0],{23:function(e,t,a){e.exports=a(52)},28:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(18),o=a.n(r),c=(a(28),a(2)),s=a(6),l=a(3),d=a(4),m=new(function(){function e(){Object(l.a)(this,e),this._cities=this.checkCookie("cities"),!1===this._cities&&(this._cities=JSON.stringify(this.getDefaultCitiesArray()),this.setCookie("cities",this._cities))}return Object(d.a)(e,[{key:"getDefaultCitiesArray",value:function(){return[{id:2643743,name:"London"},{id:6455259,name:"Paris"},{id:2759794,name:"Amsterdam"},{id:2950159,name:"Berlin"},{id:2618425,name:"Copenhagen"}]}},{key:"getCookie",value:function(e){for(var t=e+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){for(var i=a[n];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return!1}},{key:"setCookie",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var i="expires="+n.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"}},{key:"checkCookie",value:function(e){return this.getCookie(e)}},{key:"cities",get:function(){return JSON.parse(this._cities)},set:function(e){this._cities=JSON.stringify(e),this.setCookie("cities",this._cities)}}]),e}());var u={reducer:function(e,t){switch(t.type){case"setAjaxLoading":return{SelectedCityID:e.SelectedCityID,WeatherData:e.WeatherData,StoredCities:e.StoredCities,ShowCityFinder:e.ShowCityFinder,AddCityToCookie:e.AddCityToCookie,AjaxLoading:t.payload};case"showCityFinder":return{SelectedCityID:e.SelectedCityID,WeatherData:e.WeatherData,StoredCities:e.StoredCities,ShowCityFinder:!0,AddCityToCookie:e.AddCityToCookie,AjaxLoading:e.AjaxLoading};case"removeCityFromList":if(e.StoredCities.length>1){var a,n=[];return e.StoredCities.forEach(function(t){t.id!==e.SelectedCityID&&n.push(t)}),a=n[n.length-1],m.cities=n,{SelectedCityID:a.id,WeatherData:e.WeatherData,StoredCities:n,ShowCityFinder:e.ShowCityFinder,AddCityToCookie:e.AddCityToCookie,AjaxLoading:e.AjaxLoading}}break;case"setWeatherData":var i=!1;return i=!(e.StoredCities.length>5),(i=e.AddCityToCookie)&&(i=e.StoredCities.some(function(e){return!e.id===t.payload.city.id})),i&&(m.cities=[].concat(Object(s.a)(e.StoredCities),[t.payload.city])),{SelectedCityID:e.SelectedCityID,WeatherData:t.payload.data,StoredCities:i?[].concat(Object(s.a)(e.StoredCities),[t.payload.city]):e.StoredCities,ShowCityFinder:!1,AddCityToCookie:!1,AjaxLoading:!1};case"setSelectedCityID":return e.SelectedCityID!==t.payload.cityId?{SelectedCityID:t.payload.cityId,WeatherData:e.WeatherData,StoredCities:e.StoredCities,ShowCityFinder:e.ShowCityFinder,AddCityToCookie:t.payload.AddCityNameToCookieList,AjaxLoading:e.AjaxLoading}:e}},initialState:{SelectedCityID:m.cities[0].id,WeatherData:[],StoredCities:m.cities,ShowCityFinder:!1,AddCityToCookie:!1,AjaxLoading:!0}},p=a(5),y=a.n(p),h=Object(n.createContext)({});var C=function(e){var t=Object(n.useContext)(h).dispatch,a="";return null!==e.FoundCities&&(a=e.FoundCities.map(function(e){return i.a.createElement("li",{onClick:function(){return t({type:"setSelectedCityID",payload:{cityId:e.id,AddCityNameToCookieList:!0}})},key:e.id,className:"list-group-item d-flex justify-content-between align-items-center"},e.name,i.a.createElement("span",{className:"badge badge-primary badge-pill"},e.country))})),i.a.createElement(i.a.Fragment,null,i.a.createElement("ul",{className:"list-group"},a))};var g=function(e){var t=Object(n.useState)(""),a=Object(c.a)(t,2),r=a[0],o=a[1],s=Object(n.useState)(null),l=Object(c.a)(s,2),d=l[0],m=l[1];return Object(n.useEffect)(function(){return r.length>3&&y.a.get("http://digitalcook.co.uk:3000/api/city/find/".concat(r)).then(function(e){m(e.data)}),function(){}},[r]),i.a.createElement("form",{className:"search-city",autoComplete:"off"},i.a.createElement("label",null,i.a.createElement("h3",{className:"AddCity"},"Add City")),i.a.createElement("input",{type:"text",name:"name",onChange:function(e){return o(e.target.value)},placeholder:"Type your city name"}),i.a.createElement(C,{FoundCities:d}))},f=a(21),v=a(19),S=a(22),E=function(e){function t(){return Object(l.a)(this,t),Object(f.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=!0===this.props.sizeSmall?"":"@2x";return i.a.createElement("img",{className:"icon ".concat(this.props.extraClassName),alt:this.props.title,title:this.props.title,src:"http://openweathermap.org/img/wn/".concat(this.props.icon).concat(e,".png")})}}]),t}(i.a.Component);var b=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"col txtAnim five-day-single ".concat(!0===e.selected?"active":"")},i.a.createElement("p",{className:"txtAnim weekday"},e.dateString),i.a.createElement(E,{icon:e.icon,title:e.title,sizeSmall:!1}),i.a.createElement("p",{className:"min-max"},i.a.createElement("span",{className:"max-temp"},e.maxTemp,"\xb0")," ",i.a.createElement("span",{className:"min-temp"},e.minTemp,"\xb0"))))};var w=function(){var e=Object(n.useContext)(h).appState.WeatherData[1],t=[],a=e.list[0].main.temp_max,r=e.list[0].main.temp_min,o=e.list[0].dt_txt.substr(0,10),c=new Date(o),s=k[c.getDay()].substr(0,3),l=e.list[0].weather[0].icon,d=e.list[0].weather[0].icon;t.push({max:a,min:r,date:o,weekday:s,icon:l,description:d});for(var m=0;m<e.list.length;m++){var u=e.list[m],p=u.dt_txt.substr(0,10),y=new Date(p),C=x(t,p);if(!1===C){var g={max:u.main.temp_max,min:u.main.temp_min,date:p,weekday:k[y.getDay()].substr(0,3),icon:u.weather[0].icon,title:u.weather[0].description};t.push(g)}else{var f=t[C],v=f.icon,S=f.description;p+" 09:00:00"===u.dt_txt&&(v=u.weather[0].icon,S=u.weather[0].description);var E={max:f.max>u.main.temp_max?f.max:u.main.temp_max,min:f.min<u.main.temp_min?f.min:u.main.temp_min,date:f.date,weekday:f.weekday,icon:v,title:S};t[C]=E}}t.length>5&&t.pop();var w=t.map(function(e,t){return i.a.createElement(b,{key:t,selected:0===t,dateString:e.weekday,icon:e.icon,title:e.title,maxTemp:Math.round(e.max+-273.15),minTemp:Math.round(e.min+-273.15)})});return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"row five-day-single-con dailyTempsCont"},w))};function x(e,t){for(var a=0;a<e.length;a++){if(e[a].date===t)return a}return!1}var k=[];k[0]="Sunday",k[1]="Monday",k[2]="Tuesday",k[3]="Wednesday",k[4]="Thursday",k[5]="Friday",k[6]="Saturday";var D=a(20),N=a.n(D);var j=function(e){for(var t=Object(n.useContext)(h).appState.WeatherData[1],a=[],r=[],o=0;o<e.loopLength;o++){var c=t.list[o];r.push(Math.round(c.main.temp+-273.15));var s=c.dt_txt.substr(11,5);a.push(s)}var l={name:"Temperature",data:r},d={chart:{toolbar:{show:!1}},markers:{show:!1},colors:["#FFD632"],xaxis:{type:"category",categories:a,labels:{style:{colors:[],fontSize:"14px",cssClass:"apexcharts-xaxis-label"},offsetX:0,offsetY:0}},yaxis:{tooltip:{enabled:!1,offsetY:0,style:{fontSize:0,fontFamily:0}}},grid:{show:!1},fill:{colors:["#FFF5CC","#FFF5CC"],type:["solid"]},dataLabels:{enabled:!0,position:"top",formatter:function(e,t){return e+"\xb0C"},style:{colors:["black"]},offsetX:0,cssClass:"apexcharts-xaxis-values"},annotations:{show:!1}},m=[];return m.push(l),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"mixed-chart"},i.a.createElement(N.a,{options:d,series:m,type:"area",height:"200"})))};var F=function(e){var t={transform:"rotate("+e.item.deg+"deg)"};return i.a.createElement("div",{className:"col txtAnim five-day-single"},i.a.createElement("p",{className:"windSpeed"},Math.round(1.60934*e.item.speed),i.a.createElement("span",{className:"supb"},"kmh")),i.a.createElement("p",{className:"windIcon"},i.a.createElement("i",{className:"fa fa-3x fa-arrow-circle-o-up",style:t})),i.a.createElement("p",{className:"windTime"},e.item.timeString))};var A=function(e){for(var t=Object(n.useContext)(h).appState.WeatherData[1],a=[],r=0;r<e.loopLength;r++){var o=t.list[r];o.wind.timeString=o.dt_txt.substr(11,5),a.push(o.wind)}var c=a.map(function(e,t){return i.a.createElement(F,{item:e,key:t})});return i.a.createElement("div",{className:"row five-day-single-con"},c)};var T=function(){var e=Object(n.useContext)(h).appState.WeatherData[0],t=new Date;t.setSeconds(t.getSeconds()+e.timezone);var a=O[t.getUTCDay()],r=t.getUTCHours()<10?"0"+t.getUTCHours():+t.getUTCHours(),o=t.getUTCMinutes()<10?"0"+t.getUTCMinutes():+t.getUTCMinutes();return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"place txtAnim"},i.a.createElement("h2",{key:"12"},a,", ",r,":",o),i.a.createElement("h3",{key:"14"},e.weather[0].main)),i.a.createElement("div",{className:"clearfix temperature txtAnim"},i.a.createElement(E,{icon:e.weather[0].icon,sizeSmall:!1,title:e.weather[0].description,extraClassName:"float-left"}),i.a.createElement("h2",null,Math.round(e.main.temp+-273.15),"\xb0")))},O=[];O[0]="Sunday",O[1]="Monday",O[2]="Tuesday",O[3]="Wednesday",O[4]="Thursday",O[5]="Friday",O[6]="Saturday";var L=function(e){return i.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Forecast"},i.a.createElement("button",{href:"#",onClick:function(t){return e.toggleComponentDispay_Callback("chart")},type:"button",className:"btn btn-secondary ".concat("chart"===e.DisplayToggleStatus?"active":"")},"Temp"),i.a.createElement("button",{href:"#",onClick:function(){return e.toggleComponentDispay_Callback("wind")},type:"button",className:"btn btn-secondary ".concat("wind"===e.DisplayToggleStatus?"active":"")},"Wind"))};var I=function(e){var t,a=Object(n.useContext)(h).appState.WeatherData[0],r=Object(n.useState)("chart"),o=Object(c.a)(r,2),s=o[0],l=o[1];switch(s){case"chart":t=i.a.createElement(j,{loopLength:5});break;case"wind":t=i.a.createElement(A,{loopLength:5});break;default:t=i.a.createElement(j,{loopLength:5})}return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col top-lft-col"},i.a.createElement(T,null)),i.a.createElement("div",{className:"col top-rgt-col"},i.a.createElement("div",{className:"col text-left"},i.a.createElement("p",{className:"todayDetails"},"Humidity: ",a.main.humidity,"%"),i.a.createElement("p",{className:"todayDetails"},"Wind: ",a.wind.speed,"mph"),i.a.createElement(L,{DisplayToggleStatus:s,toggleComponentDispay_Callback:function(e){l(e)}})))),t,i.a.createElement(w,null))};var W=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"forecastPrnt"},i.a.createElement(I,null)))};var _=function(e){var t=Object(n.useContext)(h).appState,a=!t.ShowCityFinder&&i.a.createElement("div",{className:"CityData txtAnim"},i.a.createElement(W,null)),r=!0===t.ShowCityFinder&&i.a.createElement("div",{className:"FindCity"},i.a.createElement(g,null));return i.a.createElement(i.a.Fragment,null,a,r)};var M=function(e){var t=Object(n.useContext)(h),a=t.appState,r=t.dispatch,o=a.StoredCities.map(function(e){return i.a.createElement("button",{key:e.id,title:e.name,className:"txtAnim tablinks ".concat(a.SelectedCityID===e.id?"active":""),onClick:function(){return r({type:"setSelectedCityID",payload:{cityId:e.id,AddCityNameToCookieList:!1}})}},e.name.substring(0,10))}),c=5===a.StoredCities.length?"Disabled":"",s=1===a.StoredCities.length||!0===e.IsCityFinderComponentLoaded?"Disabled":"";return i.a.createElement(i.a.Fragment,null,o,i.a.createElement("button",{disabled:c,className:"tablinks addLocation",onClick:function(){return r({type:"showCityFinder"})}},i.a.createElement("i",{className:"fa fa-plus"})),i.a.createElement("button",{disabled:s,className:"tablinks addLocation",onClick:function(){return r({type:"removeCityFromList"})}},i.a.createElement("i",{className:"fa fa-minus"})))};var U=function(e){var t,a=Object(n.useReducer)(u.reducer,u.initialState),r=Object(c.a)(a,2),o=r[0],s=r[1];return Object(n.useEffect)(function(){var e;e=o.SelectedCityID,s({type:"setAjaxLoading",payload:!0}),y.a.get("http://digitalcook.co.uk:3000/api/city/weather/".concat(e)).then(function(e){s({type:"setWeatherData",payload:{data:e.data,city:{id:e.data[0].id,name:e.data[0].name}}})})},[o.SelectedCityID,o.setAjaxLoading]),t=!1===o.AjaxLoading?i.a.createElement(_,null):i.a.createElement("p",{className:"todayDetails"},"Loading ....."),i.a.createElement(h.Provider,{value:{appState:o,dispatch:s}},i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"container widgetCont"},i.a.createElement("div",{className:"tab"},i.a.createElement(M,null)),t)))};var z=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(U,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(51);o.a.render(i.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.54c77d15.chunk.js.map